<!DOCTYPE html>
<html>
  
<head>
  <link rel="stylesheet" href="formstyle2.css">
    </head>
  
  

  
<body>  

 <div class="grid"> 
  <p class= "banner">
  letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.letzterkussdesengels.site.
  
  </p>
  <div class="header">
     <p > Kirbi Zauvijek - Cell(LKDE-1) - Vinyl 10" / CS  </p> 
   </div>
  <div class="leftcolumn">
<br>
  
 

    


           <form id="formElem" > 
            
          
                <input id="vinylSelector" type="checkbox" name="vinyl" >
                <label id="vinylSelector" for="vinyl">10" Vinyl (Lathe) - 20EUR + Shipping</label>
                <br>
            

                <input id="tapeSelector" type="checkbox" name="tape" >
                <label id="tapeSelector" for="tape">CS(2 bonus tracks) - 10EUR + Shipping</label>
                <br>
                <br>
          
              <label for="firstName">First name:</label><br>
              <textarea rows="1" cols="40" id ="firstName" for="firstName"></textarea><br>
              <label for="lastName">Last name:</label><br>
              <textarea rows="1" cols="40" id ="lastName" for="lastName"></textarea><br>
              <label for="email">Email Address:</label><br>
              <textarea rows="1" cols="40" id ="email" for="email"></textarea><br>
              <label for="mailingAddress">Mailing Address:</label><br>
              <textarea rows = "5" id="mailingAddress" cols = "40" for="mailingAddress"></textarea><br>
              <label for="country">Country:</label><br>
              <select id="country" for="country">
                  <option value=""> -- Select One </option>
                  <option value="be"> Belgium </option>
                  <option value="bg"> Bulgaria </option>
                  <option value="cz"> Czechia </option>
                  <option value="dk"> Denmark </option>
                  <option value="de"> Germany </option>
                  <option value="ee"> Estonia </option>
                  <option value="ie"> Ireland </option>
                  <option value="el"> Greece </option>
                  <option value="es"> Spain </option>
                  <option value="fr"> France </option>
                  <option value="hr"> Croatia </option>
                  <option value="it"> Italy </option>
                  <option value="is"> Iceland </option>
                  <option value="cy"> Cyprus </option>
                  <option value="lv"> Latvia </option>
                  <option value="li"> Liechtenstein </option>
                  <option value="lt"> Lithuania </option>
                  <option value="lu"> Luxembourg </option>
                  <option value="hu"> Hungary </option>
                  <option value="mt"> Malta </option>
                  <option value="nl"> Netherlands </option>
                  <option value="no"> Norway </option>
                  <option value="at"> Austria </option>
                  <option value="pl"> Poland </option>
                  <option value="pt"> Portugal </option>
                  <option value="ro"> Romania </option>
                  <option value="ru"> Russia </option>
                  <option value="si"> Slovenia </option>
                  <option value="sk"> Slovakia </option>
                  <option value="ch"> Switzerland </option>
                  <option value="fi"> Finland </option>
                  <option value="se"> Sweden </option>
                  <option value="uk"> United Kingdom </option>
                  
                </select>
                <br>
                <br>
               
                <input id="submit" type="button" value="Submit">
                <br>
                <br>


              <!-- <p style="font-size:20px;font-family:'monospace;';text-align: left; color:yellow;"> *only ships in Europe* </p> -->
              <p style="text-align: center; color:yellow;background-color: black;"> **you'll get an email with instructions for how to pay**</p>
              <br>
         
            
            <br>
            
            </form>
  <!-- 
          <a href="digitals.html">
            <p class="digitals" style="font-size:20px;text-align: center;font-family:sans-serif; color: navajowhite;">Â¿ DO YOU WANT DIGITALS ?</p>
              </a> -->


        </div>
   <div class="rightcolumn">
     <img src="lkde1.jpeg" style="height:100%;width:100%;" alt="lkde1">
     <div class="rightcolumn_overlay">
      <a href="https://www.discogs.com/label/1580925-PUPPY-TAPES">
          <p style="color:whitesmoke;background-color: black;text-align: ;"> https://www.discogs.com/label/1580925-PUPPY-TAPES</p>
        </a>    
        </div>
      </div>
     <div class="footer">
      <br>
    

      <iframe width="1000" height="150" src="https://www.youtube.com/embed/F4Y3Pkn95GI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

      <br>
      <br>
        <a href="../index.html">
          <p style="text-align: center;"> <-> return </p>
        </a>
        <br>
        <br>
     </div>
   
    </div>
  </body>

  <script>
  document.getElementById("submit").onclick =  async (e) => {

    var dateObject = new Date();
    var formattedDate = "Ordered On: "+dateObject.getDate()+"/"+(dateObject.getMonth()+1)+"/"+dateObject.getFullYear()+" "+dateObject.getHours()+":"+dateObject.getMinutes()+ ":"+dateObject.getSeconds();
    let orderDetails = "";

  
    if (document.getElementById('vinylSelector').checked) {
      orderDetails += "vinyl checked";
      }

    if (document.getElementById('tapeSelector').checked){
      orderDetails += "tape checked";
      }


    console.log(orderDetails);


     
      if (document.getElementById("firstName").value != "" && document.getElementById("lastName").value != "" &&
          document.getElementById("email").value != "" && document.getElementById("mailingAddress").value != "" && document.getElementById("country").value != "") {  

                const body = {
                  key : "lkde1",
                  price: "0", 
                  releaseType: "vinyl",
                  firstName : document.getElementById("firstName").value,
                  lastName : document.getElementById("lastName").value,
                  email : document.getElementById("email").value,
                  mailingAddress : document.getElementById("mailingAddress").value,
                  country: document.getElementById("country").value,
                  orderDetails : orderDetails,
                  date : formattedDate
                }

                let response = await fetch('https://6j5whe5ni9.execute-api.us-east-2.amazonaws.com/prod/orders', {
                    method: 'POST',
                    body: JSON.stringify(body), 
                });
         
                if (response.status === 400) {
                    // console.log("I am sold out");
                    window.location = "soldOut.html";
                } else if (response.status === 200) {
                    // console.log(response);
                    window.location = "orderComplete.html";
                } else {
                  console.error('Network Error ):');
                }
            }
        else {
          alert("you forgot something");
        }
      }

 
  </script>
  
</html>
